import random  # –ò–º–ø–æ—Ä—Ç –º–æ–¥—É–ª—è random –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª
import sys  # –ò–º–ø–æ—Ä—Ç –º–æ–¥—É–ª—è sys –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–æ–º Python

from generate import generate_matrix
from input import input_matrix
from sort import sort_columns
from print import print_matrix, decimal_to_hex


def main():
    while True:
        choice = input(
            "–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –º–∞—Ç—Ä–∏—Ü—ã (1 - –≤–≤–µ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é, 2 - —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å, q - –≤—ã—Ö–æ–¥): ")  # –≤—ã–±–æ—Ä –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Ä–∞–±–æ—Ç—ã

        if choice == 'q':  # –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã
            sys.exit(0)
        elif choice == '1':  # –í–≤–æ–¥ –º–∞—Ç—Ä–∏—Ü—ã –≤—Ä—É—á–Ω—É—é
            matrix = input_matrix()
        elif choice == '2':  # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∞—Ç—Ä–∏—Ü—ã
            matrix = generate_matrix()
        else:  # –û—à–∏–±–∫–∞
            print("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤—ã–±–æ—Ä. –í–≤–µ–¥–∏—Ç–µ 1, 2 –∏–ª–∏ q.")
            continue

        print("–ò—Å—Ö–æ–¥–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞:")
        print_matrix(decimal_to_hex(matrix))  # –í—ã–≤–æ–¥ –∏—Å—Ö–æ–¥–Ω–æ–π –º–∞—Ç—Ä–∏—Ü—ã

        sort_columns(matrix)  # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å—Ç–æ–ª–±—Ü–æ–≤
        hex_matrix = decimal_to_hex(matrix)  # –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–∞—Ç—Ä–∏—Ü—ã –≤ 16-–Ω—É—é –°–°

        print("\n–ú–∞—Ç—Ä–∏—Ü–∞ –ø–æ—Å–ª–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏:")
        print_matrix(hex_matrix)  # –í—ã–≤–æ–¥ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –º–∞—Ç—Ä–∏—Ü—ã


if __name__ == "__main__":
    while True:
        try:
            main()
        except KeyboardInterrupt:  # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ –∑–∞–∫—Ä—ã—Ç–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã —á–µ—Ä–µ–∑ Ctrl+C
            print("\n\n–í—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –º–µ–Ω—è —Å–ª–æ–º–∞—Ç—å –æ–±–µ—Ä–Ω—É—Ç—Å—è –Ω–µ—É–¥–∞—á–µ–π :)\n–¢–µ–ø–µ—Ä—å –≤—Å–µ –ø—Ä–∏–¥–µ—Ç—Å—è –Ω–∞—á–∏–Ω–∞—Ç—å —Å–Ω–∞—á–∞–ª–∞üòä\n\n")
            continue
        except Exception as e:  # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –æ—à–∏–±–æ–∫
            print(f" –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞: {e}")
